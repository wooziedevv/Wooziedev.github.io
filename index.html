<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>WoozieDev - Ãœyelik Sistemi</title>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js"></script>
</head>
<body>
  <h1>WoozieDev Ãœyelik Sistemi</h1>

  <!-- Register -->
  <div id="registerBox">
    <h3>KayÄ±t Ol</h3>
    <input type="email" id="regEmail" placeholder="E-mail"><br>
    <input type="password" id="regPassword" placeholder="Åžifre"><br>
    <button onclick="register()">KayÄ±t Ol</button>
  </div>

  <!-- Login -->
  <div id="loginBox">
    <h3>GiriÅŸ Yap</h3>
    <input type="email" id="loginEmail" placeholder="E-mail"><br>
    <input type="password" id="loginPassword" placeholder="Åžifre"><br>
    <button onclick="login()">GiriÅŸ</button>
    <button onclick="resetPassword()">Åžifremi Unuttum</button>
  </div>

  <!-- User Panel -->
  <div id="userBox" style="display:none;">
    <p>HoÅŸgeldin, <span id="userEmail"></span></p>
    <button onclick="logout()">Ã‡Ä±kÄ±ÅŸ Yap</button>

    <!-- Sadece adminlere -->
    <div id="adminPanel" style="display:none; margin-top:20px; border:1px solid #ccc; padding:10px;">
      <h3>Admin Panel</h3>
      <p>KullanÄ±cÄ± yÃ¶netimi burada olacak.</p>
    </div>
  </div>

  <script type="module">
    // ðŸ”¹ Firebase ayarlarÄ±nÄ± buraya yapÄ±ÅŸtÄ±r
    const firebaseConfig = {
      apiKey: "FIREBASE_API_KEY",
      authDomain: "FIREBASE_PROJECT.firebaseapp.com",
      projectId: "FIREBASE_PROJECT",
      storageBucket: "FIREBASE_PROJECT.appspot.com",
      messagingSenderId: "SENDER_ID",
      appId: "APP_ID"
    };

    // BaÅŸlat
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
    import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, sendPasswordResetEmail, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    // Register
    window.register = () => {
      const email = document.getElementById("regEmail").value;
      const password = document.getElementById("regPassword").value;
      createUserWithEmailAndPassword(auth, email, password)
        .then(() => alert("KayÄ±t baÅŸarÄ±lÄ±!"))
        .catch(err => alert(err.message));
    };

    // Login
    window.login = () => {
      const email = document.getElementById("loginEmail").value;
      const password = document.getElementById("loginPassword").value;
      signInWithEmailAndPassword(auth, email, password)
        .catch(err => alert(err.message));
    };

    // Logout
    window.logout = () => {
      signOut(auth);
    };

    // Reset Password
    window.resetPassword = () => {
      const email = document.getElementById("loginEmail").value;
      if (!email) return alert("Email gir!");
      sendPasswordResetEmail(auth, email)
        .then(() => alert("Åžifre yenileme maili gÃ¶nderildi!"))
        .catch(err => alert(err.message));
    };

    // KullanÄ±cÄ± durumunu izle
    onAuthStateChanged(auth, user => {
      if (user) {
        document.getElementById("loginBox").style.display = "none";
        document.getElementById("registerBox").style.display = "none";
        document.getElementById("userBox").style.display = "block";
        document.getElementById("userEmail").textContent = user.email;

        // admin kontrol (Ã¶rnek: belli mailler admin)
        if (user.email === "admin@woozie.com") {
          document.getElementById("adminPanel").style.display = "block";
        }
      } else {
        document.getElementById("loginBox").style.display = "block";
        document.getElementById("registerBox").style.display = "block";
        document.getElementById("userBox").style.display = "none";
      }
    });
  </script>
</body>
</html>

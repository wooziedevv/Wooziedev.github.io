<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>NexuForge</title>
<link rel="icon" href="https://r.resimlink.com/eW-gkBi17DO.jpeg" type="image/png">
<style>
  *{box-sizing:border-box}
  body{font-family:'Segoe UI', Tahoma, Verdana, sans-serif;background:#000;color:#fff;margin:0}
  header{position:fixed;top:0;width:100%;background:rgba(0,0,0,.85);padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center;z-index:999}
  .logo{display:flex;align-items:center;gap:8px;cursor:pointer}
  nav a{color:#fff;text-decoration:none;margin-left:1rem}
  .hero{height:100vh;background:url('https://r.resimlink.com/FrNusUEa.jpeg') center/cover no-repeat;display:flex;align-items:center;justify-content:center;margin-top:80px;position:relative}
  .hero h1{font-size:3rem;background:rgba(0,0,0,.6);padding:1rem 2rem;border-radius:10px;display:flex;align-items:center;gap:10px}
  main{max-width:1100px;margin:0 auto;padding:4rem 2rem;text-align:center}
  .about-content{position:relative;z-index:2;background:rgba(0,0,0,.6);padding:2rem;border-radius:10px;text-align:left}
  footer{text-align:center;padding:2rem;border-top:1px solid #333;font-size:.9rem}

  /* AUTH */
  #authRow{display:flex;gap:20px;justify-content:center;margin-top:20px}
  #registerBox,#loginBox{background:rgba(255,255,255,0.03);padding:12px;border-radius:8px;border:1px solid #222}
  #registerBox input,#loginBox input{display:block;padding:.5rem;margin:.3rem 0;width:220px;border-radius:6px;border:1px solid #333;background:transparent;color:#fff}
  #registerBox button,#loginBox button{padding:.5rem 1rem;margin-top:8px;border-radius:6px;border:none;background:#fff;color:#000;font-weight:700;cursor:pointer}
  #userBox{margin-top:20px}

  /* SIDEBAR */
  .hamburger{font-size:22px;cursor:pointer;margin-left:12px}
  .notif-bell{cursor:pointer;margin-right:12px;position:relative}
  .notif-count{position:absolute;top:-8px;right:-6px;background:#ff4d4d;color:#000;padding:2px 6px;border-radius:12px;font-weight:700;font-size:12px;display:none}
  .sidebar{position:fixed;right:-420px;top:0;width:420px;height:100vh;background:#090909;box-shadow:-8px 0 36px rgba(0,0,0,.6);transition:right .25s ease;z-index:1200;padding:16px;overflow:auto}
  .sidebar.open{right:0}
  .sidebar .closeX{position:absolute;left:12px;top:12px;cursor:pointer;color:#fff}
  .menu-item{display:block;padding:12px;border-radius:8px;margin:6px 0;background:transparent;color:#ddd;text-decoration:none;border:1px solid rgba(255,255,255,0.03);cursor:pointer}
  .menu-item:hover{background:#fff;color:#000}

  /* CHAT & DM */
  .panel{display:none;text-align:left;margin-top:12px}
  .panel.active{display:block}
  .profile-card{background:rgba(255,255,255,0.03);padding:12px;border-radius:8px}
  .profile-card img{width:96px;height:96px;border-radius:50%;object-fit:cover;border:2px solid #fff;display:block;margin-bottom:8px}
  #interactiveArea{display:none;margin-top:20px}
  .chat-layout{display:flex;gap:18px;justify-content:center}
  .chat-box{background:rgba(255,255,255,0.02);border:1px solid #222;padding:12px;border-radius:8px;width:48%}
  #globalChat,#dmBox{height:260px;overflow:auto;padding:8px;background:transparent}
  .msg{padding:6px;border-bottom:1px dashed rgba(255,255,255,.03);margin-bottom:6px}
  #searchResults li{list-style:none;padding:8px;border-bottom:1px solid #222;cursor:pointer}

  /* small screens */
  @media(max-width:800px){
    .sidebar{width:100%;right:-100%}
    .chat-layout{flex-direction:column}
    .chat-box{width:100%}
    #registerBox,#loginBox input{width:100%}
  }
</style>
</head>
<body>

<header>
  <div style="display:flex;align-items:center">
    <div class="logo" onclick="location.hash='#home'">
      <img src="https://r.resimlink.com/FrNusUEa.jpeg" alt="Logo" width="60" height="40"/>
      <h1 style="margin:0;font-size:1.5rem;color:#fff;display:flex;align-items:center;gap:6px">
        NexuForge <img src="https://r.resimlink.com/eW-gkBi17DO.jpeg" alt="Arka Logo" width="40" height="40" />
      </h1>
    </div>
    <nav style="margin-left:12px">
      <a href="#home">Ana Sayfa</a>
      <a href="#about">HakkÄ±mÄ±zda</a>
      <a href="#contact">Ä°letiÅŸim</a>
    </nav>
  </div>
  <div style="display:flex;align-items:center">
    <div class="notif-bell" onclick="toggleSidebar()">ðŸ””<span id="notifCount" class="notif-count">0</span></div>
    <div class="hamburger" onclick="toggleSidebar()">â˜°</div>
  </div>
</header>

<section class="hero" id="home"><h1>NexuForge</h1></section>

<main>
<section id="about" class="about-section">
  <div class="about-content">
    <h2>HakkÄ±mda</h2>
    <p>Merhaba, ben Ata GÃ¶Ã§ke, yani bilinen adÄ±yla WoozieDev. YazÄ±lÄ±m ve teknoloji benim tutkum. Kendi e-spor takÄ±mÄ± B2G/DEV E-Sports'u kurdum.</p>
  </div>
</section>

<section id="auth">
  <h2>Ãœyelik Sistemi</h2>
  <div id="authRow">
    <div id="registerBox">
      <h3>KayÄ±t Ol</h3>
      <input id="regUsername" type="text" placeholder="KullanÄ±cÄ± adÄ±"><br>
      <input id="regEmail" type="email" placeholder="E-mail"><br>
      <input id="regPassword" type="password" placeholder="Åžifre"><br>
      <button onclick="register()">KayÄ±t Ol</button>
    </div>

    <div id="loginBox">
      <h3>GiriÅŸ Yap</h3>
      <input id="loginEmail" type="email" placeholder="E-mail"><br>
      <input id="loginPassword" type="password" placeholder="Åžifre"><br>
      <button onclick="login()">GiriÅŸ</button>
      <button onclick="resetPassword()" style="background:#333;color:#fff;margin-left:8px">Åžifremi Unuttum</button>
    </div>
  </div>

  <div id="userBox" style="display:none;margin-top:10px">
    <p>HoÅŸgeldin, <span id="userEmail"></span> (<span id="userName"></span>)</p>
    <button onclick="logout()">Ã‡Ä±kÄ±ÅŸ Yap</button>
  </div>
</section>

<section id="interactiveArea">
  <div class="chat-layout">
    <div class="chat-box">
      <h3>Genel Sohbet</h3>
      <div id="globalChat"></div>
      <div style="display:flex;gap:8px;margin-top:8px">
        <input id="globalMsg" placeholder="Mesaj yaz..." />
        <button onclick="sendGlobalMsg()">GÃ¶nder</button>
      </div>
    </div>

    <div style="width:48%">
      <div class="chat-box">
        <h3>DM / KullanÄ±cÄ± Ara</h3>
        <input id="searchUserInput" placeholder="KullanÄ±cÄ± adÄ± veya e-mail ara" oninput="searchUsersDebounced()" />
        <ul id="searchResults" style="margin:8px 0;padding:0;max-height:140px;overflow:auto"></ul>
      </div>
      <div class="chat-box" style="margin-top:12px">
        <h3>DM: <span id="dmWith">â€”</span></h3>
        <div id="dmBox"></div>
        <div style="display:flex;gap:8px;margin-top:8px">
          <input id="dmMsg" placeholder="Ã–zel mesaj..." />
          <button onclick="sendDM()">GÃ¶nder</button>
        </div>
      </div>
    </div>
  </div>
</section>

<section id="profileViewPanel" style="display:none;margin-top:20px;text-align:left">
  <div class="profile-card" id="profileCardPublic">
    <img id="profilePublicImg" src="https://via.placeholder.com/96" alt="profil">
    <h3 id="profilePublicUsername">KullanÄ±cÄ±</h3>
    <p id="profilePublicAbout"></p>
    <p>Instagram: <span id="profilePublicInstagram"></span></p>
    <p>TikTok: <span id="profilePublicTiktok"></span></p>
  </div>
</section>

<section id="contact">
  <h2>Ä°letiÅŸim</h2>
  <p>contact@nexuforge.com</p>
</section>
</main>

<footer>&copy; 2025 NexuForge TÃ¼m HaklarÄ± Gizlidir.</footer>

<div class="sidebar" id="sidebar">
  <div class="closeX" onclick="toggleSidebar()">âœ–</div>
  <h3>MenÃ¼</h3>
  <a class="menu-item" onclick="openPanel('profileViewPanel')">Profilim</a>
  <a class="menu-item" onclick="openPanel('interactiveArea')">Sohbet</a>
  <a class="menu-item" onclick="openPanel('auth')">Ãœyelik</a>
</div>

<!-- Firebase SDK -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, sendPasswordResetEmail, onAuthStateChanged, updateProfile } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";
import { getDatabase, ref, set, push, onValue } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";

// Firebase config
const firebaseConfig = {
  apiKey: "API_KEY_HERE",
  authDomain: "PROJECT_ID.firebaseapp.com",
  databaseURL: "https://PROJECT_ID.firebaseio.com",
  projectId: "PROJECT_ID",
  storageBucket: "PROJECT_ID.appspot.com",
  messagingSenderId: "SENDER_ID",
  appId: "APP_ID"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth();
const db = getDatabase();

// --- AUTH FUNCTIONS ---
function register(){
  const email=document.getElementById('regEmail').value;
  const password=document.getElementById('regPassword').value;
  const username=document.getElementById('regUsername').value;
  createUserWithEmailAndPassword(auth,email,password)
    .then((userCredential)=>{
      const user=userCredential.user;
      updateProfile(user,{displayName:username});
      set(ref(db,'users/'+user.uid),{username,email});
      alert('KayÄ±t baÅŸarÄ±lÄ±!');
    })
    .catch((err)=>alert(err.message));
}

function login(){
  const email=document.getElementById('loginEmail').value;
  const password=document.getElementById('loginPassword').value;
  signInWithEmailAndPassword(auth,email,password)
    .catch(err=>alert(err.message));
}

function logout(){signOut(auth).catch(err=>alert(err.message))}

function resetPassword(){
  const email=document.getElementById('loginEmail').value;
  sendPasswordResetEmail(auth,email)
    .then(()=>alert('Åžifre sÄ±fÄ±rlama maili gÃ¶nderildi.'))
    .catch(err=>alert(err.message));
}

// --- REALTIME CHAT ---
function sendGlobalMsg(){
  const msg=document.getElementById('globalMsg').value;
  if(msg.trim()==='')return;
  const user=auth.currentUser;
  if(!user)return alert('GiriÅŸ yapmalÄ±sÄ±nÄ±z!');
  push(ref(db,'messages'),{
    uid:user.uid,
    username:user.displayName,
    msg,
    timestamp:Date.now()
  });
  document.getElementById('globalMsg').value='';
}

const globalChatDiv=document.getElementById('globalChat');
onValue(ref(db,'messages'),snapshot=>{
  globalChatDiv.innerHTML='';
  snapshot.forEach(child=>{
    const m=child.val();
    const div=document.createElement('div');
    div.className='msg';
    div.textContent=`${m.username}: ${m.msg}`;
    globalChatDiv.appendChild(div);
  });
});

// --- AUTH STATE LISTENER ---
onAuthStateChanged(auth,user=>{
  if(user){
    document.getElementById('userBox').style.display='block';
    document.getElementById('userEmail').textContent=user.email;
    document.getElementById('userName').textContent=user.displayName||'KullanÄ±cÄ±';
    document.getElementById('authRow').style.display='none';
    document.getElementById('interactiveArea').style.display='block';
  } else {
    document.getElementById('userBox').style.display='none';
    document.getElementById('authRow').style.display='flex';
    document.getElementById('interactiveArea').style.display='none';
  }
});

// --- SIDEBAR ---
function toggleSidebar(){document.getElementById('sidebar').classList.toggle('open')}
function openPanel(panelId){document.querySelectorAll('.panel').forEach(p=>p.classList.remove('active'));const el=document.getElementById(panelId);if(el) el.classList.add('active');}
</script>

</body>
</html>
